<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Contact Us</title>
    <link rel="icon" href="images/promptcartLogo.svg" type="image/png" />
    <link rel="stylesheet" href="css/contact.css" />
    <link
      rel="stylesheet"
      href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css"
    />
    <script
      type="text/javascript"
      src="https://cdn.jsdelivr.net/npm/@emailjs/browser@4/dist/email.min.js"
    ></script>

    <script type="text/javascript">
      (function () {
        emailjs.init({
          publicKey: "gxNKt8qgan17AqnVj",
        });
      })();
      $(document).ready(function () {
        let firstClick = true;
        $(".navbar-toggler").on("click", function () {
          if (firstClick) {
            // First time we check if it's collapsed or not
            if ($(this).hasClass("collapsed")) {
              // Navbar is initially collapsed, allow scrolling
              $("body").css("overflow", "auto");
            } else {
              // Navbar is initially open, disable scrolling
              $("body").css("overflow", "hidden");
            }

            firstClick = false; // Disable further checks for 'collapsed'
          } else {
            // After first check, simply toggle the CSS between two states
            if ($("body").css("overflow") === "hidden") {
              $("body").css("overflow", "auto"); // Re-enable scrolling
            } else {
              $("body").css("overflow", "hidden"); // Disable scrolling
            }
          }
        });
      });
    </script>
    <script type="text/javascript">
      function showPopup(message) {
        document.getElementById("popupMessage").innerText = message;
        document.getElementById("customPopup").style.display = "block";
      }

      // Close the custom popup
      function closePopup() {
        document.getElementById("customPopup").style.display = "none";
      }

      window.onload = function () {
        document
          .getElementById("contact-form")
          .addEventListener("submit", function (event) {
            event.preventDefault();
            // these IDs from the previous steps
            emailjs
              .sendForm("service_4urgpap", "template_npa2z1p", "#contact-form")
              .then(
                () => {
                  console.log("SUCCESS!");
                  document.getElementById("contact-form").reset(); // Clear the form
                  showPopup(
                    "We have received your message and will get back to you soon"
                  );
                },
                (error) => {
                  console.log("FAILED...", error);
                  showPopup(
                    "Failed to send your message, please check try again later"
                  );
                }
              );
          });
      };
    </script>

    <!-- GSAP (TweenMax) -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.10.4/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.10.4/Draggable.min.js"></script>

    <!-- jQuery (Already included, ensure it's working) -->
    <!-- <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script> -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/modernizr/2.8.3/modernizr.min.js"></script>

    <!-- jQuery -->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

    <!-- Popper.js -->
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js"></script>
  </head>
  <body>
    <header id="header" class="position-sticky z-100">
      <nav class="navbar p-0 navbar-expand-lg navbar-light" id="header">
        <div class="logo d-lg-none">
          <img
            src="images/logo-new.png"
            alt="PCart Logo"
            class="navbar-brand"
          />
        </div>
        <button
          class="navbar-toggler mr-2"
          type="button"
          data-toggle="collapse"
          data-target="#navbarNav"
          aria-controls="navbarNav"
          aria-expanded="false"
          aria-label="Toggle navigation"
        >
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse h-100vh-sm" id="navbarNav">
          <ul class="navbar-nav ml-auto nav-links align-items-center">
            <li class="nav-item">
              <a
                href="index.html"
                class="nav-link px-lg-1px-xl-5 mx-xl-3"
                id="home-link"
                >Home</a
              >
            </li>
            <li class="nav-item">
              <a
                href="products.html"
                class="nav-link px-lg-1px-xl-5 mx-xl-3"
                id="product-link"
                >Product</a
              >
            </li>
            <li class="nav-item">
              <a
                href="users.html"
                class="nav-link px-lg-1px-xl-5 mx-xl-3"
                id="stories-link"
                >User Stories</a
              >
            </li>
            <li class="nav-item dropdown">
              <a
                href="#"
                class="nav-link dropdown-toggle px-lg-1px-xl-5 mx-xxl-3 active"
                id="companyDropdown"
                role="button"
                data-toggle="dropdown"
                aria-haspopup="true"
                aria-expanded="false"
                >Company</a
              >
              <div class="dropdown-menu" aria-labelledby="companyDropdown">
                <a class="dropdown-item nav-link" href="about.html">About Us</a>
                <a class="dropdown-item nav-link" href="teams.html">Team</a>
                <a class="dropdown-item nav-link" href="contact.html"
                  >Contact Us</a
                >
              </div>
            </li>
            <li class="nav-item d-none d-lg-block">
              <div class="logo">
                <img
                  src="images/logo-new.png"
                  alt="PCart Logo"
                  class="navbar-brand"
                />
              </div>
            </li>
          </ul>
        </div>
      </nav>
    </header>
    <div class="container">
      <div class="row">
        <div class="col form-col">
          <h1>Contact us</h1>
          <p class="description">
            We are here to help you. if you have any questions, let us know!
          </p>
          <form id="contact-form" class="row gap-2">
            <div class="col-12">
              <input
                type="text"
                name="user_name"
                placeholder="Name"
                class="input-box"
              />
            </div>
            <div class="col-md-6">
              <input
                type="email"
                name="user_email"
                placeholder="E-mail"
                class="input-box"
              />
            </div>
            <div class="col-md-6">
              <input
                type="tel"
                name="user_phone"
                placeholder="Phone"
                class="input-box"
              />
            </div>
            <div class="col-md-12">
              <textarea
                name="message"
                placeholder="Message"
                class="input-box"
              ></textarea>
            </div>
            <button type="submit" class="send-button" value="Send">
              Send Message â†’
            </button>
          </form>
        </div>
        <div class="col map-col">
          <img src="images/Map.png" alt="World Map" />
        </div>
      </div>
    </div>

    <div id="customPopup">
      <div id="popupContent">
        <p id="popupMessage">Message goes here</p>
        <button class="close-btn" onclick="closePopup()">Close</button>
      </div>
    </div>
    <script>
      let lastScrollPosition = 0; // Tracks the last scroll position
      const header = document.getElementById("header");
      const scrollThreshold = 5; // Adjust this value to control the scroll threshold

      window.addEventListener("scroll", () => {
        let currentScrollPosition = window.scrollY;

        // If scrolling down, hide the header
        if (currentScrollPosition > lastScrollPosition + scrollThreshold) {
          header.classList.add("scroll-hidden"); // Hide header
        } else if (
          currentScrollPosition <
          lastScrollPosition - scrollThreshold
        ) {
          // If scrolling up and crossed the threshold, show the header
          header.classList.remove("scroll-hidden"); // Show header
        }

        // Update the last scroll position
        lastScrollPosition = currentScrollPosition;
      });

      // Add an event listener to the window for the scroll event
      window.addEventListener("scroll", () => {
        // Check the scroll position
        if (window.scrollY > 50) {
          // Change value as per your preference
          header.classList.add("scrolled"); // Add the 'scrolled' class
        } else {
          header.classList.remove("scrolled"); // Remove the 'scrolled' class
        }
      });
    </script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js"></script>
  </body>
</html>
